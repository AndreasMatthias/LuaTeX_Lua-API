--- /home/jf/repos/lua/luatex_api_all/library/luatex/zip.lua_upstream.lua	2023-04-14 21:14:51.222848800 +0200
+++ /home/jf/repos/lua/luatex_api_all/library/luatex/zip.lua	2023-04-14 20:48:09.773665971 +0200
@@ -1,3 +1,10 @@
+_N._4_3_lua_modules = "page 67"
+
+---
+---https://github.com/TeX-Live/luatex/tree/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/luazip
+---Changes to upstream: global zip table
+
+---
 ---@meta
 ---The definitions are developed in this repository: https://github.com/LuaCATS/luazip
 
@@ -11,14 +18,10 @@
 ---
 ---Project on luarocks: https://luarocks.org/modules/mpeterv/luazip
 ---HTML documentation: http://mpeterv.github.io/luazip
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
-local zip = {}
+zip = {}
 
 ---
 ---@return nil|"closed zip file"|"zip file"
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 function zip.type() end
 
 ---
@@ -29,8 +32,6 @@
 ---@param filename string
 ---
 ---@return Zfile
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 function zip.open(filename) end
 
 ---
@@ -49,20 +50,14 @@
 ---@param filename string
 ---
 ---@return Zfile
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 function zip.openfile(filename) end
 
 ---
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 ---@class Zfile
 zfile = {}
 
 ---
 ---This function closes a zfile opened by `zip.open`
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 function zfile:close() end
 
 ---
@@ -72,8 +67,6 @@
 ---* `filename`: the full path of a file
 ---* `compressed_size`: the compressed size of the file in bytes
 ---* `uncompressed_size`: the uncompressed size of the file in bytes
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 function zfile:files() end
 
 ---
@@ -84,8 +77,6 @@
 ---supported mode is "read".
 ---
 ---@param filename string
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 function zfile:open(filename) end
 
 ---
@@ -105,8 +96,6 @@
 ---@param ... '*a'|'*l'|integer
 ---
 ---@return string|nil
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 function zfile:read(...) end
 
 ---
@@ -126,14 +115,10 @@
 ---it; the call `zfile:seek("set")` sets the position to the beginning of the file (and returns 0);
 ---and the call `zfile:seek("end")` sets the position to the end of the file, and returns its
 ---size.
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 function zfile:seek(whence, offset) end
 
 ---
 ---This function closes a file opened by `zfile:open`.
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 function zfile:close() end
 
 ---
@@ -146,8 +131,6 @@
 ---```
 ---
 ---will iterate over all lines of the file.
----
----😱 [Types](https://github.com/LuaCATS/luazip/blob/main/library/zip.lua) incomplete or incorrect? 🙏 [Please contribute!](https://github.com/LuaCATS/luazip/pulls)
 function zfile:lines() end
 
 return zip
