\directlua{
  for type_id, type in pairs(node.types()) do
    print(type_id .. ' ' .. type)
    if type_id < 8 or type_id > 8 then
      for field_id, field in pairs(node.fields(type_id)) do
        print('  ' .. field_id .. ' ' .. field)
      end
    end
  end
}

\bye
